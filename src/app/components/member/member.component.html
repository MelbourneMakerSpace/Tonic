<tb-card>
  <div class="headerText">{{headerText}}</div>
  <div class="subheaderText"></div>
  <div class="extraButtons">
    <button mat-mini-fab [disabled]="!form.valid" (click)="save()">
      <mat-icon aria-label="Save" title="Save">save</mat-icon>
    </button>

    <button mat-mini-fab (click)="back()">
      <mat-icon aria-label="Back" title="Back">arrow_back</mat-icon>
    </button>
  </div>
  <div class="content">
    <form [formGroup]="form">
      <div fxFlex fxLayoutAlign="start stretch">
        <div fxFlex="80">
          <fieldset>
            <legend>Member Information
            </legend>
            <div fxLayout="row wrap" fxFlex fxLayoutGap="10px">
              <mat-form-field>
                <input formControlName="FirstName" matInput placeholder="First Name">
              </mat-form-field>
              <mat-form-field>
                <input formControlName="LastName" matInput placeholder="Last Name">
              </mat-form-field>
              <mat-form-field>
                <input formControlName="phone" matInput placeholder="Phone">
              </mat-form-field>
            </div>
            <div fxLayout="row wrap" fxFlex fxLayoutGap="10px">
              <mat-form-field style="width:300px">
                <input formControlName="email" matInput placeholder="Email">
              </mat-form-field>
              <mat-form-field style="width:300px">
                <input formControlName="paypalEmail" matInput placeholder="Paypal Email">
              </mat-form-field>
            </div>
          </fieldset>
          <div fxLayout="row wrap" fxFlex fxLayoutAlign="start stretch">
            <fieldset style="width:100%">
              <legend>Emergency Contact</legend>
              <div fxLayout="row wrap" fxLayoutAlign="space-between start">
                <mat-form-field class="mediumField">
                  <input formControlName="emergencyName" matInput placeholder="Name">
                </mat-form-field>
                <mat-form-field class="mediumField">
                  <input formControlName="emergencyEmail" matInput placeholder="Email">
                </mat-form-field>
                <mat-form-field class="mediumField">
                  <input formControlName="emergencyPhone" matInput placeholder="Phone">
                </mat-form-field>
              </div>
            </fieldset>
          </div>
          <div style="padding:2px;">
            <tb-card [LowElevation]="true" (addClick)="addEditPlan('New')">
              <div class="headerText ">Plans</div>
              <div class="subheaderText "></div>
              <div class="content ">
                <mat-table class="bglightgray" #table [dataSource]="memberPlans">
                  <ng-container matColumnDef="Plan">
                    <mat-header-cell *matHeaderCellDef> Plan </mat-header-cell>
                    <mat-cell *matCellDef="let item">
                      <button mat-icon-button color="primary">
                        <mat-icon aria-label="Update">folder</mat-icon>
                      </button> ${{item.plan}} / Month </mat-cell>
                  </ng-container>
                  <ng-container matColumnDef="StartDate">
                    <mat-header-cell *matHeaderCellDef> Start Date </mat-header-cell>
                    <mat-cell *matCellDef="let item">
                      {{item.startDate | date}} </mat-cell>
                  </ng-container>
                  <ng-container matColumnDef="EndDate">
                    <mat-header-cell *matHeaderCellDef> End Date </mat-header-cell>
                    <mat-cell *matCellDef="let item">
                      {{item.endDate | date}} </mat-cell>
                  </ng-container>
                  <mat-header-row *matHeaderRowDef="['Plan', 'StartDate','EndDate']"></mat-header-row>
                  <mat-row class="trHover" (click)="addEditPlan(item.Key)" *matRowDef="let item; columns: ['Plan', 'StartDate','EndDate'];"></mat-row>
                </mat-table>
              </div>
            </tb-card>
          </div>
          <div style="padding:2px;">
            <tb-card [LowElevation]="true" (addClick)="addKey($event)">
              <div class="headerText ">Keys</div>
              <div class="subheaderText "></div>
              <div class="content ">
                <mat-table class="bglightgray" #table [dataSource]="memberKeys">
                  <ng-container matColumnDef="keySerial">
                    <mat-header-cell *matHeaderCellDef> Key Serial </mat-header-cell>
                    <mat-cell *matCellDef="let item">
                      <button mat-icon-button color="warn" (click)="deactivateKey(item.Key)">
                        <mat-icon>cancel</mat-icon>
                      </button> {{item.keySerial}} </mat-cell>
                  </ng-container>
                  <mat-header-row *matHeaderRowDef="['keySerial']"></mat-header-row>
                  <mat-row class="trHover" *matRowDef="let item; columns: ['keySerial'];"></mat-row>
                </mat-table>
              </div>
            </tb-card>
          </div>
          <div style="padding:2px;">
            <tb-card [LowElevation]="true" (addClick)=" addPlan($event) ">
              <div class="headerText ">Payment History</div>
              <div class="subheaderText ">The payment history for this person</div>
              <div class="content ">content</div>
            </tb-card>
          </div>
        </div>
        <!--Left Content-->
        <!--Side nav-->
        <div fxflex style="padding:10px;">
          <mat-card>
            <img matCardImage src="assets/fry.jpg ">
            <mat-card-content>
              <mat-form-field style="width:100%">
                <mat-select formControlName="role" placeholder="Role">
                  <mat-option *ngFor="let memberType of memberTypes" [value]="memberType">
                    {{memberType}}
                  </mat-option>
                </mat-select>
              </mat-form-field>
              <mat-form-field style="width:100%">
                <input formControlName="password" type="password" autocomplete="new-password" matInput placeholder="Password ">
              </mat-form-field>
            </mat-card-content>
            <mat-card-footer>

            </mat-card-footer>
          </mat-card>
        </div>
      </div>

    </form>
  </div>
</tb-card>
<p>Form value: {{ form.value | json }}</p>
<p>Form status: {{ form.status | json }}</p>